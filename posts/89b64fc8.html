<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>RustDesk 开源远程桌面软件系统，自建服务器部署 (审计)、发布和使用教程 | 捌月</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="https://unpkg.com/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="https://unpkg.com/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="https://unpkg.com/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="https://unpkg.com/toastr/build/toastr.min.css"><div class="darkmode-toggle">🌓</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">RustDesk 开源远程桌面软件系统，自建服务器部署 (审计)、发布和使用教程</h1><a id="logo" href="/.">捌月</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E4%BA%8B/"><i class="fa fa-book"> 记事</i></a><a href="/system/"><i class="fa fa-television"> 系统</i></a><a target="_blank" rel="noopener" href="https://j.ynly.eu.org/"><i class="fa fa-graduation-cap"> 教育</i></a><a target="_blank" rel="noopener" href="https://l.ynly.eu.org/"><i class="fa fa-fighter-jet"> 旅游</i></a><a href="/tool/"><i class="fa fa-gavel"> 工具</i></a><a href="/web/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">RustDesk 开源远程桌面软件系统，自建服务器部署 (审计)、发布和使用教程</h1><div class="post-meta">2025-07-17<span> | </span><span class="category"><a href="/categories/%E6%95%99%E7%A8%8B%E5%AD%A6%E4%B9%A0/">教程学习</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 5.2k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 22</span><span class="post-meta-item-text"> 分钟</span></span></span></div><a class="disqus-comment-count" href="/posts/89b64fc8.html#vcomment"><span class="valine-comment-count" data-xid="/posts/89b64fc8.html"></span><span> 条评论</span></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%99%E7%A8%8B%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.</span> <span class="toc-text">教程功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.2.</span> <span class="toc-text">技术架构对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E5%B7%AE%E5%BC%82%E5%AF%B9%E6%AF%94"><span class="toc-number">1.3.</span> <span class="toc-text">功能差异对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RustDesk-%E6%9E%B6%E6%9E%84%E6%A6%82%E8%BF%B0"><span class="toc-number">1.4.</span> <span class="toc-text">RustDesk 架构概述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RustDesk-%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">RustDesk 部署教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#linux-%E5%8E%9F%E7%94%9F%E9%83%A8%E7%BD%B2"><span class="toc-number">2.1.</span> <span class="toc-text">linux 原生部署</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">2.1.1.</span> <span class="toc-text">服务器配置说明：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD-Rustdesk-Server"><span class="toc-number">2.1.2.</span> <span class="toc-text">下载 Rustdesk Server</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-2-%E7%9B%B4%E6%8E%A5%E5%89%8D%E5%BE%80%E5%AE%98%E6%96%B9%E9%A1%B5%E9%9D%A2%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">方法 2 直接前往官方页面下载</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-3-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%B4%E6%8E%A5%E6%88%96%E8%80%85%E4%BB%A3%E7%90%86%E4%B8%8B%E8%BD%BD"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">方法 3 服务器直接或者代理下载</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%8E%8B-Rustdesk-Server"><span class="toc-number">2.1.3.</span> <span class="toc-text">解压 Rustdesk Server</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E4%B8%94%E5%8A%A0%E5%85%A5%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8"><span class="toc-number">2.1.4.</span> <span class="toc-text">配置系统服务且加入开机自启动</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B"><span class="toc-number">2.2.</span> <span class="toc-text">docker 部署教程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-docker"><span class="toc-number">2.2.1.</span> <span class="toc-text">安装 docker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%AE%B9%E5%99%A8"><span class="toc-number">2.2.2.</span> <span class="toc-text">运行容器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#docker-%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">docker 直接运行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#docker-compose-%E8%BF%90%E8%A1%8C"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">docker compose 运行</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">2.2.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rustdesk-web-API-server-%E9%83%A8%E7%BD%B2"><span class="toc-number">3.</span> <span class="toc-text">rustdesk-web-API-server 部署</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-docker-1"><span class="toc-number">3.0.1.</span> <span class="toc-text">安装 docker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#docker-compose-%E8%BF%90%E8%A1%8C-1"><span class="toc-number">3.0.2.</span> <span class="toc-text">docker compose 运行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">3.0.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RustDesk-%E5%8F%91%E5%B8%83%E6%95%99%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">RustDesk 发布教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E7%AB%AF%E5%8F%A3%EF%BC%8C%E7%A1%AE%E8%AE%A4%E5%8F%91%E5%B8%83%E7%AB%AF%E5%8F%A3"><span class="toc-number">4.1.</span> <span class="toc-text">了解端口，确认发布端口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-nginx-%E4%BB%A3%E7%90%86%E5%8F%91%E5%B8%83%E7%AB%AF%E5%8F%A3"><span class="toc-number">4.2.</span> <span class="toc-text">使用 nginx 代理发布端口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8E%A5%E5%85%A5%E4%B8%8E-OIDC-%E6%8E%A5%E5%85%A5"><span class="toc-number">4.2.1.</span> <span class="toc-text">第三方接入与 OIDC 接入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">4.2.2.</span> <span class="toc-text">其他权限管理</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a><strong>前言</strong></h2><p><a target="_blank" rel="noopener" href="https://github.com/rustdesk/rustdesk">RustDesk</a> 是一个强大的开源远程桌面软件，是<strong>中国开发者</strong>的作品，它使用 Rust 编程语言构建，提供安全、高效、跨平台的远程访问体验。可以说是目前全球最火的开源远程桌面软件了，<strong>GitHub 收藏数量达到了惊人的 92k！</strong></p>
<p><img src="https://qt.qiongzhou.eu.org/webp/image-20250706195610828.png" alt=""></p>
<h3 id="教程功能"><a href="#教程功能" class="headerlink" title="教程功能"></a><strong>教程功能</strong></h3><p>NaN.  简单介绍 RustDesk ，对 RustDesk 原理进行简单说明</p>
<p>NaN.  提供 linux 原生安装和 docker 安装两种方式自建 RustDesk 服务器</p>
<p>NaN.  第三方开源 web-api 服务（RustDesk 开源版本没有权限用户相关管理权限控制，pro 版本才有）</p>
<p>NaN.  如何发布 RustDesk 服务端（主要为开放端口说明）</p>
<p>NaN.  客户端简单使用 RustDesk</p>
<p>视频比较细，时长较长，已经分段完成，各位小伙伴可以选择分段观看。</p>
<p>与 <strong>TeamViewer</strong>、<strong>ToDesk</strong> 、<strong>向日葵</strong>等专有远程访问解决方案相比，RustDesk 作为一个开源软件，提供了几个显著的优势：</p>
<p>NaN.  RustDesk 完全免费使用，没有任何隐藏费用或订阅计划。</p>
<p>NaN.  由于其开源特性，RustDesk 的代码是透明的，可以由社区审计，从而提供更高的安全性和可信度。</p>
<p>NaN.  由于 RustDesk 允许自建服务器，隐私性更高</p>
<p>NaN.  RustDesk 自建服务器硬件需求非常低官方说法如下：</p>
<pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">硬件要求非常低；基本云服务器的最低配置就足够了，CPU和内存要求极低。您也可以使用树莓派或类似设备。关于网络规模，如果TCP打洞直连失败，将消耗中继流量。中继连接的流量根据分辨率设置和屏幕更新在30 K/s到3 M/s（1920x1080屏幕）之间。如果仅用于办公需求，流量约为100 K/s。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre><p><strong>由于被诈骗分子频繁使用，该项目现已暂停国内服务。即国内无法通过公共服务器连接</strong></p>
<h3 id="技术架构对比"><a href="#技术架构对比" class="headerlink" title="技术架构对比"></a><strong>技术架构对比</strong></h3><table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="100"><p><strong>维度</strong></p></th><th colspan="1" rowspan="1" colwidth="100"><p><strong>TeamViewer</strong></p></th><th colspan="1" rowspan="1" colwidth="897"><p><strong>RustDesk</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>传输协议</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>私有协议（优化带宽和延迟）</p></td><td colspan="1" rowspan="1" colwidth="897"><p>WebRTC + 自定义协议（依赖 P2P/UDP 打洞）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>中继服务器</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>全球分布式商业服务器（强制中转）</p></td><td colspan="1" rowspan="1" colwidth="897"><p><strong>可选</strong>自建中继服务器（开源实现）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>连接方式</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>优先 P2P，失败时自动中转</p></td><td colspan="1" rowspan="1" colwidth="897"><p>强制尝试 P2P，失败后走自建 / 官方中继</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>代码可控性</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>闭源</p></td><td colspan="1" rowspan="1" colwidth="897"><p><strong>完全开源</strong>（MIT 许可）</p></td></tr></tbody></table>

<h3 id="功能差异对比"><a href="#功能差异对比" class="headerlink" title="功能差异对比"></a><strong>功能差异对比</strong></h3><table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="161"><p><strong>功能</strong></p></th><th colspan="1" rowspan="1" colwidth="100"><p><strong>TeamViewer</strong></p></th><th colspan="1" rowspan="1" colwidth="749"><p><strong>RustDesk</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>多平台支持</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (Win/macOS/Linux/iOS/Android/Web)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>✔️ (全平台 + 浏览器客户端)</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>多显示器切换</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (无缝切换)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>✔️</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>文件传输</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (拖拽 / 管理界面)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>✔️ (基础拖拽)</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>会议功能</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (最多 300 人，企业版)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>❌ (仅 1 对 1 控制)</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>远程打印</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (虚拟驱动)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>❌</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>无人值守访问</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (设备分组 / 批量部署)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>✔️ (需手动设置密码)</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>命令行控制</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (TV CLI)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>✔️ (命令行参数)</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="161"><p><strong>移动设备控制</strong></p></td><td colspan="1" rowspan="1" colwidth="100"><p>✔️ (Android/iOS 反向控制)</p></td><td colspan="1" rowspan="1" colwidth="749"><p>✔️ (Android/iOS 反向控制)</p></td></tr></tbody></table>

<h3 id="RustDesk-架构概述"><a href="#RustDesk-架构概述" class="headerlink" title="RustDesk 架构概述"></a><strong>RustDesk 架构概述</strong></h3><p>RustDesk 采用了经典的客户端 - 服务器模型，其中涉及三个主要组件：RustDesk 客户端、RustDesk 服务器和 ID Server。</p>
<p><img src="https://halo.blog360.sbs/upload/1737323-20240511112331780-1084989840-NdLz.png" alt=""></p>
<p>NaN.  <strong>客户端 - 服务器模型</strong></p>
<pre><code>在 RustDesk 的架构中，客户端是运行在用户设备 (如笔记本电脑、平板电脑或智能手机) 上的应用程序。它提供了一个图形界面，允许用户发起远程访问请求并与远程计算机进行交互。另一方面，服务器组件运行在要远程访问的目标计算机上。它负责监听来自客户端的连接请求，并在建立连接后向客户端发送屏幕更新和接收输入事件。
</code></pre><p>NaN.  <strong>ID Server 的角色</strong></p>
<pre><code>ID Server 在 RustDesk 的生态系统中扮演着重要的角色。它的主要职责是促进客户端和服务器之间的初始连接建立。**当 RustDesk 服务器启动时，它会连接到 ID Server 并注册自己，提供如服务器 ID 和公网 IP 地址等信息**。类似地，当客户端想要连接到特定的 RustDesk 服务器时，它会向 ID Server 查询目标服务器的连接信息。

**ID Server 维护了一个已注册的 RustDesk 服务器目录，并充当客户端和服务器之间的中介，帮助它们建立直接的点对点 (P2P) 连接**。一旦客户端从 ID Server 获得了服务器的连接信息，它就可以尝试直接连接到服务器，而无需进一步通过 ID Server 中继数据。
</code></pre><p>NaN.  <strong>Relay Server 的角色</strong></p>
<pre><code>在某些网络环境下，RustDesk 客户端和服务器可能**无法直接建立 P2P 连接**，例如当它们位于 NAT (网络地址转换) 或防火墙后时。为了克服这一挑战，RustDesk 引入了 Relay Server。

**如果客户端无法直接连接到服务器，它会向 ID Server 请求一个 Relay Server。然后，客户端和服务器都连接到指定的 Relay Server，并通过它来中继所有的网络通信**。Relay Server 在这种情况下充当客户端和服务器之间的桥梁，转发来自一方的数据包到另一方。

值得注意的是，即使通过 Relay Server 进行通信，RustDesk 也会维护端到端加密，确保中继服务器无法访问明文数据。Relay Server 只是盲目地转发加密的数据包，而不能查看或修改其内容。
</code></pre><h2 id="RustDesk-部署教程"><a href="#RustDesk-部署教程" class="headerlink" title="RustDesk 部署教程"></a><strong>RustDesk 部署教程</strong></h2><h3 id="linux-原生部署"><a href="#linux-原生部署" class="headerlink" title="linux 原生部署"></a><strong>linux 原生部署</strong></h3><h4 id="服务器配置说明："><a href="#服务器配置说明：" class="headerlink" title="服务器配置说明："></a><strong>服务器配置说明：</strong></h4><table><colgroup><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="100"><p><strong>配置项</strong></p></th><th colspan="1" rowspan="1" colwidth="100"><p><strong>参数</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p>cpu</p></td><td colspan="1" rowspan="1" colwidth="100"><p>1C</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p>内存</p></td><td colspan="1" rowspan="1" colwidth="100"><p>1G</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p>系统</p></td><td colspan="1" rowspan="1" colwidth="100"><p>Ubuntu 24.04 任意 linux 系统</p></td></tr></tbody></table>

<h4 id="下载-Rustdesk-Server"><a href="#下载-Rustdesk-Server" class="headerlink" title="下载 Rustdesk Server"></a><strong>下载 Rustdesk Server</strong></h4><h5 id="方法-2-直接前往官方页面下载"><a href="#方法-2-直接前往官方页面下载" class="headerlink" title="方法 2 直接前往官方页面下载"></a><strong>方法 2 直接前往官方页面下载</strong></h5><p><a target="_blank" rel="noopener" href="https://github.com/rustdesk/rustdesk-server/releases">https://github.com/rustdesk/rustdesk-server/releases</a></p>
<h5 id="方法-3-服务器直接或者代理下载"><a href="#方法-3-服务器直接或者代理下载" class="headerlink" title="方法 3 服务器直接或者代理下载"></a><strong>方法 3 服务器直接或者代理下载</strong></h5><p>docker github 代理地址：<a target="_blank" rel="noopener" href="https://www.cnproxy.top/">https://www.cnproxy.top/</a></p>
<p>使用 githuab 代理或者直接下载</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="regexp">//g</span>hproxy.cnproxy.top<span class="regexp">/https:/</span><span class="regexp">/github.com/</span>rustdesk/rustdesk-se</span><br><span class="line">rver<span class="regexp">/releases/</span>download<span class="regexp">/1.1.14/</span>rustdesk-server-linux-amd64.zip</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="解压-Rustdesk-Server"><a href="#解压-Rustdesk-Server" class="headerlink" title="解压 Rustdesk Server"></a><strong>解压 Rustdesk Server</strong></h4><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt install unzip</span><br><span class="line">​</span><br><span class="line">unzip rustdesk-<span class="keyword">server</span>-linux-amd64.zip</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>解压完成后会出现 hbbr，hbbs，rustdesk-utils 三个文件</p>
<p><strong>hbbr</strong>：</p>
<ul>
<li><code>hbbr</code>是 RustDesk Relay Server，即 RustDesk 中继服务器，当客户端之间无法直接建立 P2P 连接时，会通过<code>hbbr</code>中继服务器进行数据传输<code>hbbr</code>允许无法直接建立 P2P 连接的客户端通过中继服务器进行通信。</li>
</ul>
<p><strong>hbbs</strong>：</p>
<ul>
<li><code>hbbs</code>代表 RustDesk ID / Rendezvous Server，即 RustDesk ID 注册服务器。它用于分配和注册 ID，并且是 RustDesk 的中介服务器（Broker Server），用于管理和协调客户端连接。<code>hbbs</code>帮助客户端找到并建立 P2P 连接，负责维护客户端的在线状态，并处理连接请求。当客户端 A 希望连接客户端 B 时，它会向<code>hbbs</code>发送请求，<code>hbbs</code>会帮助它们建立连接。</li>
</ul>
<p><strong>rustdesk-utils</strong>：</p>
<ul>
<li><code>rustdesk-utils</code>是 RustDesk 的命令行工具，提供了一些管理和操作 RustDesk 服务器端的工具和命令。</li>
</ul>
<h4 id="配置系统服务且加入开机自启动"><a href="#配置系统服务且加入开机自启动" class="headerlink" title="配置系统服务且加入开机自启动"></a><strong>配置系统服务且加入开机自启动</strong></h4><p>执行 vim hbbr.service 配置系统级服务</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line"><span class="attribute">Description</span>=RustDesk Relay<span class="built_in"> Server</span></span><br><span class="line"><span class="built_in"></span><span class="attribute">After</span>=network.target</span><br><span class="line">​</span><br><span class="line">[Service]</span><br><span class="line"><span class="attribute">Type</span>=simple</span><br><span class="line"><span class="attribute">ExecStart</span>=/opt/rustdesk/hbbr</span><br><span class="line"><span class="attribute">Restart</span>=on-failure</span><br><span class="line"><span class="attribute">WorkingDirectory</span>=/opt/rustdesk</span><br><span class="line">​</span><br><span class="line">[Install]</span><br><span class="line"><span class="attribute">WantedBy</span>=multi-user.target</span><br><span class="line">​</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>执行 vim hbbs.service 配置系统级服务</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line"><span class="attribute">Description</span>=RustDesk Relay<span class="built_in"> Server</span></span><br><span class="line"><span class="built_in"></span><span class="attribute">After</span>=network.target</span><br><span class="line">​</span><br><span class="line">[Service]</span><br><span class="line"><span class="attribute">Type</span>=simple</span><br><span class="line"><span class="attribute">ExecStart</span>=/opt/rustdesk/hbbs</span><br><span class="line"><span class="attribute">Restart</span>=on-failure</span><br><span class="line"><span class="attribute">WorkingDirectory</span>=/opt/rustdesk</span><br><span class="line">​</span><br><span class="line">[Install]</span><br><span class="line"><span class="attribute">WantedBy</span>=multi-user.target</span><br><span class="line">​</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>将服务添加到系统服务，且加入开机自启动</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span>将当前路径服务以软连接加入系统服务中</span><br><span class="line">ln -s <span class="regexp">/opt/</span>rustdesk<span class="regexp">/hbbr.service /</span>etc<span class="regexp">/systemd/</span>system/</span><br><span class="line">ln -s <span class="regexp">/opt/</span>rustdesk<span class="regexp">/hbbs.service /</span>etc<span class="regexp">/systemd/</span>system/</span><br><span class="line"><span class="regexp">//</span>重载服务</span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="regexp">//</span>启动并且加入开机自启动</span><br><span class="line">​</span><br><span class="line">systemctl enable --now hbbs.service </span><br><span class="line">systemctl enable --now hbbr.service</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h5><ol>
<li><p>解压完成后 hbbr 与 hbbs 可以移动位置，但是两个文件需放在同一目录中。</p>
</li>
<li><p>首次需要先启动 hbbs 在启动 hbbr</p>
</li>
</ol>
<h3 id="docker-部署教程"><a href="#docker-部署教程" class="headerlink" title="docker 部署教程"></a><strong>docker 部署教程</strong></h3><h4 id="安装-docker"><a href="#安装-docker" class="headerlink" title="安装 docker"></a><strong>安装 docker</strong></h4><p>见本站 docker 安装教程 <a target="_blank" rel="noopener" href="https://halo.blog360.sbs/archives/dockeran-zhuang-jiao-cheng">https://halo.blog360.sbs/archives/dockeran-zhuang-jiao-cheng</a></p>
<h4 id="运行容器"><a href="#运行容器" class="headerlink" title="运行容器"></a><strong>运行容器</strong></h4><h5 id="docker-直接运行"><a href="#docker-直接运行" class="headerlink" title="docker 直接运行"></a><strong>docker 直接运行</strong></h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> <span class="attribute">--restart</span>=always  --name hbbs  -v /opt/rustdesk:/root -td <span class="attribute">--net</span>=host rustdesk/rustdesk-server  hbbs  -r [服务器公网IP或域名]  </span><br><span class="line">​</span><br><span class="line"></span><br><span class="line">docker <span class="built_in">run</span>  <span class="attribute">--restart</span>=always --name hbbr   -v /opt/rustdesk:/root -td  <span class="attribute">--net</span>=host rustdesk/rustdesk-server  hbbr</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="docker-compose-运行"><a href="#docker-compose-运行" class="headerlink" title="docker compose 运行"></a><strong>docker compose 运行</strong></h5><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">version</span><span class="punctuation">:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attribute">​</span></span><br><span class="line"><span class="attribute">networks</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">rustdesk-net</span><span class="punctuation">:</span></span><br><span class="line">    <span class="attribute">external</span><span class="punctuation">:</span> <span class="string">false</span></span><br><span class="line"><span class="attribute">​</span></span><br><span class="line"><span class="attribute">services</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">hbbs</span><span class="punctuation">:</span></span><br><span class="line">    <span class="attribute">container_name</span><span class="punctuation">:</span> <span class="string">hbbs</span></span><br><span class="line">    <span class="attribute">ports</span><span class="punctuation">:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">21115:21115</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">21116:21116</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">21116:21116/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">21118:21118</span></span><br><span class="line">    <span class="attribute">image</span><span class="punctuation">:</span> <span class="string">rustdesk/rustdesk-server:latest</span></span><br><span class="line">    <span class="attribute">command</span><span class="punctuation">:</span> <span class="string">hbbs -r rustdesk.example.com:21117 # 公网ip或者域名，为中继连接节点</span></span><br><span class="line">    <span class="attribute">volumes</span><span class="punctuation">:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/root</span></span><br><span class="line">    <span class="attribute">networks</span><span class="punctuation">:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">rustdesk-net</span></span><br><span class="line">    <span class="attribute">depends_on</span><span class="punctuation">:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">hbbr</span></span><br><span class="line">    <span class="attribute">restart</span><span class="punctuation">:</span> <span class="string">unless-stopped</span></span><br><span class="line"><span class="attribute">​</span></span><br><span class="line"><span class="attribute">  hbbr</span><span class="punctuation">:</span></span><br><span class="line">    <span class="attribute">container_name</span><span class="punctuation">:</span> <span class="string">hbbr</span></span><br><span class="line">    <span class="attribute">ports</span><span class="punctuation">:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">21117:21117</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">21119:21119</span></span><br><span class="line">    <span class="attribute">image</span><span class="punctuation">:</span> <span class="string">rustdesk/rustdesk-server:latest</span></span><br><span class="line">    <span class="attribute">command</span><span class="punctuation">:</span> <span class="string">hbbr</span></span><br><span class="line">    <span class="attribute">volumes</span><span class="punctuation">:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/root</span></span><br><span class="line">    <span class="attribute">networks</span><span class="punctuation">:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">rustdesk-net</span></span><br><span class="line">    <span class="attribute">restart</span><span class="punctuation">:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h4><ol>
<li>注意配置公网访问中继节点  </li>
</ol>
<h2 id="rustdesk-web-API-server-部署"><a href="#rustdesk-web-API-server-部署" class="headerlink" title="rustdesk-web-API-server 部署"></a><strong>rustdesk-web-API-server 部署</strong></h2><p>首先我们为什么要部署 <strong>rustdesk-API-server</strong>，我们需要指定 rustdesk 开源版本与 pro 版本的区别，其核心区别主要有下：</p>
<table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="100"><p><strong>功能</strong></p></th><th colspan="1" rowspan="1" colwidth="229"><p><strong>开源自托管版</strong></p></th><th colspan="1" rowspan="1" colwidth="653"><p><strong>Pro 自托管版</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>Web 管理控制台</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 无</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ 完整图形化界面（设备 / 用户 / 权限管理）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>API 接口</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 无</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ RESTful API（自动化集成）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>审计日志</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 仅基础连接日志</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ 完整操作审计（登录 / 会话 / 文件传输）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>设备分组 / 标签</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 手动管理</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ 可视化批量管理</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>企业级安全</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 基础密码验证</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ TOTP 两步验证 (2FA)</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>会议功能</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 仅一对一连接</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ 支持多人会议（≤10 人）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>安卓隐私黑屏</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 无</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ 被控时屏幕自动黑屏</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>商业授权</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ AGPLv3 (有传染性)</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ 商业许可（规避开源风险）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>官方技术支持</strong></p></td><td colspan="1" rowspan="1" colwidth="229"><p>❌ 仅社区支持</p></td><td colspan="1" rowspan="1" colwidth="653"><p>✅ 订阅用户专属支持</p></td></tr></tbody></table>

<p>对应企业而言，前五条还是比较重要的，而 pro 版本的订阅价格还比较贵，我们可以通过自行部署其他<strong>第三方 rustdesk-web-API</strong> 来解决，当然第三方肯定无法和官方的 pro 比较，如果权限要求比较细也可以<strong>购买 pro 版本</strong>支持一下</p>
<p>那么我们本次部署所使用的第三方 <strong>rustdesk-web-API</strong> 可以提供哪些功能呢？基本如下</p>
<table><colgroup><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="100"><p><strong>功能</strong></p></th><th colspan="1" rowspan="1" colwidth="860"><p><strong>详情</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>Web 管理控制台</strong></p></td><td colspan="1" rowspan="1" colwidth="860"><p>提供了一个完整图形化界面（设备 / 用户 / 权限管理）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>API 接口</strong></p></td><td colspan="1" rowspan="1" colwidth="860"><p>RESTful API 并且提供了 swagger 接口，可以自行定制开发</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>设备分组 / 标签</strong></p></td><td colspan="1" rowspan="1" colwidth="860"><p>可视化批量管理</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p><strong>安全提升</strong></p></td><td colspan="1" rowspan="1" colwidth="860"><p>可强制要求登录后才允许使用远程</p></td></tr></tbody></table>

<p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/lejianwen/rustdesk-api">https://github.com/lejianwen/rustdesk-api</a></p>
<h4 id="安装-docker-1"><a href="#安装-docker-1" class="headerlink" title="安装 docker"></a><strong>安装 docker</strong></h4><p>见本站 docker 安装教程</p>
<h4 id="docker-compose-运行-1"><a href="#docker-compose-运行-1" class="headerlink" title="docker compose 运行"></a><strong>docker compose 运行</strong></h4><p>添加 docker-compose.yml 文件</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">version:</span> &#x27;<span class="number">3</span>&#x27;  <span class="comment"># 必须声明版本（推荐 ≥3.5）</span></span><br><span class="line">​</span><br><span class="line"><span class="params">services:</span></span><br><span class="line">  <span class="params">rustdesk:</span></span><br><span class="line">    <span class="params">image:</span> lejianwen<span class="operator">/</span>rustdesk-server-s6:latest</span><br><span class="line">    <span class="params">container_name:</span> rustdesk-server</span><br><span class="line">    <span class="params">ports:</span></span><br><span class="line">      <span class="operator">-</span> <span class="string">&quot;21114:21114&quot;</span>    <span class="comment"># 注意：所有端口必须加引号（YAML规范）</span></span><br><span class="line">      <span class="operator">-</span> <span class="string">&quot;21115:21115&quot;</span></span><br><span class="line">      <span class="operator">-</span> <span class="string">&quot;21116:21116&quot;</span>    <span class="comment"># TCP端口</span></span><br><span class="line">      <span class="operator">-</span> <span class="string">&quot;21116:21116/udp&quot;</span> <span class="comment"># UDP端口（无需重复定义TCP）</span></span><br><span class="line">      <span class="operator">-</span> <span class="string">&quot;21117:21117&quot;</span></span><br><span class="line">      <span class="operator">-</span> <span class="string">&quot;21118:21118&quot;</span></span><br><span class="line">      <span class="operator">-</span> <span class="string">&quot;21119:21119&quot;</span></span><br><span class="line">    <span class="params">environment:</span> </span><br><span class="line">      <span class="operator">-</span> RELAY<span class="operator">=</span>rustdesk.domain.com:<span class="number">21117</span> <span class="comment"># 默认的中继服务器</span></span><br><span class="line">      <span class="operator">-</span> ENCRYPTED_ONLY<span class="operator">=</span><span class="number">1</span></span><br><span class="line">      <span class="operator">-</span> MUST_LOGIN<span class="operator">=</span>Y  <span class="comment"># 是否强制登陆才运行使用</span></span><br><span class="line">      <span class="operator">-</span> TZ<span class="operator">=</span>Asia<span class="symbol">/Shanghai</span> <span class="comment"># 时区</span></span><br><span class="line">     <span class="comment"># - RUSTDESK_API_GORM_TYPE=mysql</span></span><br><span class="line">     <span class="comment"># - RUSTDESK_API_MYSQL_USERNAME=root</span></span><br><span class="line">     <span class="comment"># - RUSTDESK_API_MYSQL_PASSWORD=123456</span></span><br><span class="line">     <span class="comment"># - RUSTDESK_API_MYSQL_ADDR=192.168.1.1</span></span><br><span class="line">     <span class="comment"># - RUSTDESK_API_MYSQL_DBNAME=rustdesk_db</span></span><br><span class="line">      <span class="operator">-</span> RUSTDESK_API_APP_SHOW_SWAGGER<span class="operator">=</span><span class="number">0</span> <span class="comment"># 是否启用swagger </span></span><br><span class="line">      <span class="operator">-</span> RUSTDESK_API_RUSTDESK_KEY<span class="operator">=</span><span class="number">1222112</span><span class="operator">=</span> <span class="comment">#jwt key</span></span><br><span class="line">      <span class="operator">-</span> RUSTDESK_API_RUSTDESK_API_SERVER<span class="operator">=</span><span class="params">https:</span></span><br><span class="line">      <span class="operator">-</span> RUSTDESK_API_RUSTDESK_RELAY_SERVER<span class="operator">=</span>rustdesk.domain.com:<span class="number">21117</span></span><br><span class="line">      <span class="operator">-</span> RUSTDESK_API_RUSTDESK_ID_SERVER<span class="operator">=</span>rustdesk.domain.com:<span class="number">21116</span></span><br><span class="line">    <span class="params">volumes:</span></span><br><span class="line">      <span class="operator">-</span> .<span class="operator">/</span>data:<span class="symbol">/data</span></span><br><span class="line">      <span class="operator">-</span> .<span class="operator">/</span>data<span class="operator">/</span>api:<span class="symbol">/app/data</span> <span class="comment">#将数据库挂载 sqlite 数据库文件挂载 为mysql时可以不配置</span></span><br><span class="line">    <span class="params">restart:</span> unless-stopped</span><br><span class="line">    <span class="params">networks:</span></span><br><span class="line">      <span class="operator">-</span> rustdesk-net</span><br><span class="line">​</span><br><span class="line"><span class="params">networks:</span>  <span class="comment"># 顶级配置（顶格书写）</span></span><br><span class="line">  <span class="params">rustdesk-net:</span></span><br><span class="line">    <span class="params">driver:</span> bridge</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>完整参数配置</strong></p>
<table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="640"><p><strong>变量名</strong></p></th><th colspan="1" rowspan="1" colwidth="25"><p><strong>说明</strong></p></th><th colspan="1" rowspan="1" colwidth="434"><p><strong>示例</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>TZ</p></td><td colspan="1" rowspan="1" colwidth="25"><p>时区</p></td><td colspan="1" rowspan="1" colwidth="434"><p>Asia/Shanghai</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_LANG</p></td><td colspan="1" rowspan="1" colwidth="25"><p>语言</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>en</code>,<code>zh-CN</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_WEB_CLIENT</p></td><td colspan="1" rowspan="1" colwidth="25"><p>是否启用 web-client; 1: 启用, 0: 不启用; 默认启用</p></td><td colspan="1" rowspan="1" colwidth="434"><p>1</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_REGISTER</p></td><td colspan="1" rowspan="1" colwidth="25"><p>是否开启注册; <code>true</code>, <code>false</code> 默认<code>false</code></p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>false</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_SHOW_SWAGGER</p></td><td colspan="1" rowspan="1" colwidth="25"><p>是否可见 swagger 文档;<code>1</code>显示，<code>0</code>不显示，默认<code>0</code>不显示</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>1</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_TOKEN_EXPIRE</p></td><td colspan="1" rowspan="1" colwidth="25"><p>token 有效时长</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>168h</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_DISABLE_PWD_LOGIN</p></td><td colspan="1" rowspan="1" colwidth="25"><p>是否禁用密码登录; <code>true</code>, <code>false</code> 默认<code>false</code></p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>false</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_REGISTER_STATUS</p></td><td colspan="1" rowspan="1" colwidth="25"><p>注册用户默认状态; 1 启用，2 禁用, 默认 1</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>1</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_CAPTCHA_THRESHOLD</p></td><td colspan="1" rowspan="1" colwidth="25"><p>验证码触发次数; -1 不启用， 0 一直启用， &gt;0 登录错误次数后启用 ; 默认 <code>3</code></p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>3</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_APP_BAN_THRESHOLD</p></td><td colspan="1" rowspan="1" colwidth="25"><p>封禁 IP 触发次数; 0 不启用, &gt;0 登录错误次数后封禁 IP; 默认 <code>0</code></p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>0</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>-----ADMIN 配置 -----</p></td><td colspan="1" rowspan="1" colwidth="25"><p>----------</p></td><td colspan="1" rowspan="1" colwidth="434"><p>----------</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_ADMIN_TITLE</p></td><td colspan="1" rowspan="1" colwidth="25"><p>后台标题</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>RustDesk Api Admin</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_ADMIN_HELLO</p></td><td colspan="1" rowspan="1" colwidth="25"><p>后台欢迎语，可以使用<code>html</code></p></td><td colspan="1" rowspan="1" colwidth="434"></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_ADMIN_HELLO_FILE</p></td><td colspan="1" rowspan="1" colwidth="25"><p>后台欢迎语文件，如果内容多，使用文件更方便。 会覆盖<code>RUSTDESK_API_ADMIN_HELLO</code></p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>./conf/admin/hello.html</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>-----GIN 配置 -----</p></td><td colspan="1" rowspan="1" colwidth="25"><p>----------</p></td><td colspan="1" rowspan="1" colwidth="434"><p>----------</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_GIN_TRUST_PROXY</p></td><td colspan="1" rowspan="1" colwidth="25"><p>信任的代理 IP 列表，以<code>,</code>分割，默认信任所有</p></td><td colspan="1" rowspan="1" colwidth="434"><p>192.168.1.2,192.168.1.3</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>-----GORM 配置 -----</p></td><td colspan="1" rowspan="1" colwidth="25"><p>----------</p></td><td colspan="1" rowspan="1" colwidth="434"><p>---------------------------</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_GORM_TYPE</p></td><td colspan="1" rowspan="1" colwidth="25"><p>数据库类型 sqlite 或者 mysql，默认 sqlite</p></td><td colspan="1" rowspan="1" colwidth="434"><p>sqlite</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_GORM_MAX_IDLE_CONNS</p></td><td colspan="1" rowspan="1" colwidth="25"><p>数据库最大空闲连接数</p></td><td colspan="1" rowspan="1" colwidth="434"><p>10</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_GORM_MAX_OPEN_CONNS</p></td><td colspan="1" rowspan="1" colwidth="25"><p>数据库最大打开连接数</p></td><td colspan="1" rowspan="1" colwidth="434"><p>100</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_PERSONAL</p></td><td colspan="1" rowspan="1" colwidth="25"><p>是否启用个人版 API， 1: 启用, 0: 不启用； 默认启用</p></td><td colspan="1" rowspan="1" colwidth="434"><p>1</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>-----MYSQL 配置 -----</p></td><td colspan="1" rowspan="1" colwidth="25"><p>----------</p></td><td colspan="1" rowspan="1" colwidth="434"><p>----------</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_MYSQL_USERNAME</p></td><td colspan="1" rowspan="1" colwidth="25"><p>mysql 用户名</p></td><td colspan="1" rowspan="1" colwidth="434"><p>root</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_MYSQL_PASSWORD</p></td><td colspan="1" rowspan="1" colwidth="25"><p>mysql 密码</p></td><td colspan="1" rowspan="1" colwidth="434"><p>111111</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_MYSQL_ADDR</p></td><td colspan="1" rowspan="1" colwidth="25"><p>mysql 地址</p></td><td colspan="1" rowspan="1" colwidth="434"><p>192.168.1.66:3306</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_MYSQL_DBNAME</p></td><td colspan="1" rowspan="1" colwidth="25"><p>mysql 数据库名</p></td><td colspan="1" rowspan="1" colwidth="434"><p>rustdesk</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>-----RUSTDESK 配置 -----</p></td><td colspan="1" rowspan="1" colwidth="25"><p>----------</p></td><td colspan="1" rowspan="1" colwidth="434"><p>----------</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_ID_SERVER</p></td><td colspan="1" rowspan="1" colwidth="25"><p>Rustdesk 的 id 服务器地址</p></td><td colspan="1" rowspan="1" colwidth="434"><p>192.168.1.66:21116</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_RELAY_SERVER</p></td><td colspan="1" rowspan="1" colwidth="25"><p>Rustdesk 的 relay 服务器地址</p></td><td colspan="1" rowspan="1" colwidth="434"><p>192.168.1.66:21117</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_API_SERVER</p></td><td colspan="1" rowspan="1" colwidth="25"><p>Rustdesk 的 api 服务器地址</p></td><td colspan="1" rowspan="1" colwidth="434"><p><a target="_blank" rel="noopener" href="http://192.168.1.66:21114/">http://192.168.1.66:21114</a></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_KEY</p></td><td colspan="1" rowspan="1" colwidth="25"><p>Rustdesk 的 key</p></td><td colspan="1" rowspan="1" colwidth="434"><p>123456789</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_KEY_FILE</p></td><td colspan="1" rowspan="1" colwidth="25"><p>Rustdesk 存放 key 的文件</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>./conf/data/id_ed25519.pub</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_WEBCLIENT <em>MAGIC</em>QUERYONLINE</p></td><td colspan="1" rowspan="1" colwidth="25"><p>Web client v2 中是否启用新的在线状态查询方法; <code>1</code>: 启用,<code>0</code>: 不启用, 默认不启用</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>0</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_RUSTDESK_WS_HOST</p></td><td colspan="1" rowspan="1" colwidth="25"><p>自定义 Websocket Host</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>wss://192.168.1.123:1234</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>----PROXY 配置 -----</p></td><td colspan="1" rowspan="1" colwidth="25"><p>----------</p></td><td colspan="1" rowspan="1" colwidth="434"><p>----------</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_PROXY_ENABLE</p></td><td colspan="1" rowspan="1" colwidth="25"><p>是否启用代理:<code>false</code>, <code>true</code></p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>false</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_PROXY_HOST</p></td><td colspan="1" rowspan="1" colwidth="25"><p>代理地址</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>http://127.0.0.1:1080</code></p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>----JWT 配置 ----</p></td><td colspan="1" rowspan="1" colwidth="25"><p>--------</p></td><td colspan="1" rowspan="1" colwidth="434"><p>--------</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_JWT_KEY</p></td><td colspan="1" rowspan="1" colwidth="25"><p>自定义 JWT KEY, 为空则不启用 JWT 如果没使用<code>lejianwen/rustdesk-server</code>中的<code>MUST_LOGIN</code>，建议设置为空</p></td><td colspan="1" rowspan="1" colwidth="434"></td></tr><tr><td colspan="1" rowspan="1" colwidth="640"><p>RUSTDESK_API_JWT_EXPIRE_DURATION</p></td><td colspan="1" rowspan="1" colwidth="25"><p>JWT 有效时间</p></td><td colspan="1" rowspan="1" colwidth="434"><p><code>168h</code></p></td></tr></tbody></table>

<p><strong>查看密码</strong></p>
<p>执行</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> logs -f docker容器ID</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>查看密码</p>
<h4 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a><strong>总结</strong></h4><ol>
<li><p>注意这个服务包已经包含了 hbbr 与 hbbs，可以不用再部署了。</p>
</li>
<li><p>默认超管密码将会在容器日志中输出。</p>
</li>
<li><p>默认容器已经禁用了注册功能。</p>
</li>
</ol>
<h2 id="RustDesk-发布教程"><a href="#RustDesk-发布教程" class="headerlink" title="RustDesk 发布教程"></a><strong>RustDesk 发布教程</strong></h2><p>在发布之前，我们需要了解 rustdesk 各个端口的作用：</p>
<h3 id="了解端口，确认发布端口"><a href="#了解端口，确认发布端口" class="headerlink" title="了解端口，确认发布端口"></a><strong>了解端口，确认发布端口</strong></h3><p><strong>hbbs 服务所需端口</strong></p>
<table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="100"><p><strong>协议</strong></p></th><th colspan="1" rowspan="1" colwidth="100"><p><strong>端口号</strong></p></th><th colspan="1" rowspan="1" colwidth="483"><p><strong>说明</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p>TCP</p></td><td colspan="1" rowspan="1" colwidth="100"><p>21114</p></td><td colspan="1" rowspan="1" colwidth="483"><p>用于 Web 控制台（可选）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p>TCP</p></td><td colspan="1" rowspan="1" colwidth="100"><p>21115</p></td><td colspan="1" rowspan="1" colwidth="483"><p>用于 NAT 类型测试</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p>TCP/UDP</p></td><td colspan="1" rowspan="1" colwidth="100"><p>21116</p></td><td colspan="1" rowspan="1" colwidth="483"><p>必须同时启用 TCP 和 UDP，用于 ID 注册、心跳服务（UDP）以及 TCP 打洞、连接服务（TCP）</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="100"><p>TCP</p></td><td colspan="1" rowspan="1" colwidth="100"><p>21118</p></td><td colspan="1" rowspan="1" colwidth="483"><p>用于支持 Web 客户端（可选）</p></td></tr></tbody></table>

<p><strong>hbbr 服务所需端口</strong></p>
<table><colgroup><col><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="118"><p><strong>协议</strong></p></th><th colspan="1" rowspan="1" colwidth="100"><p><strong>端口号</strong></p></th><th colspan="1" rowspan="1" colwidth="431"><p><strong>说明</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="118"><p>TCP</p></td><td colspan="1" rowspan="1" colwidth="100"><p>21117</p></td><td colspan="1" rowspan="1" colwidth="431"><p>用于中继服务</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="118"><p>TCP</p></td><td colspan="1" rowspan="1" colwidth="100"><p>21119</p></td><td colspan="1" rowspan="1" colwidth="431"><p>用于支持 Web 客户端（可选）</p></td></tr></tbody></table>

<p>那么可以根据一下需求来</p>
<p><strong>RustDesk 官方开源版本</strong></p>
<table><colgroup><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="270"><p><strong>端口</strong></p></th><th colspan="1" rowspan="1" colwidth="423"><p><strong>是否必须</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="270"><p>21116 tcp/udp</p></td><td colspan="1" rowspan="1" colwidth="423"><p>是</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="270"><p>21117 tcp</p></td><td colspan="1" rowspan="1" colwidth="423"><p>建议开放，用于在 p2p 失败后中继</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="270"><p>21115 tcp</p></td><td colspan="1" rowspan="1" colwidth="423"><p>建议不开放</p></td></tr></tbody></table>

<p><strong>rustdesk-web-API-server 第三方带服务版本</strong></p>
<table><colgroup><col><col></colgroup><tbody><tr><th colspan="1" rowspan="1" colwidth="368"><p><strong>端口</strong></p></th><th colspan="1" rowspan="1" colwidth="549"><p><strong>是否必须</strong></p></th></tr><tr><td colspan="1" rowspan="1" colwidth="368"><p>21116 tcp/udp</p></td><td colspan="1" rowspan="1" colwidth="549"><p>是</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="368"><p>21114(443 or 80) tcp</p></td><td colspan="1" rowspan="1" colwidth="549"><p>开放 将 web 使用 443 或者 80 发布</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="368"><p>21117 tcp</p></td><td colspan="1" rowspan="1" colwidth="549"><p>建议开放，用于在 p2p 失败后中继</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="368"><p>21115 tcp</p></td><td colspan="1" rowspan="1" colwidth="549"><p>建议不开放</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="368"><p>21119 tcp</p></td><td colspan="1" rowspan="1" colwidth="549"><p>建议不开放</p></td></tr><tr><td colspan="1" rowspan="1" colwidth="368"><p>21118</p></td><td colspan="1" rowspan="1" colwidth="549"><p>建议不开放</p></td></tr></tbody></table>

<h3 id="使用-nginx-代理发布端口"><a href="#使用-nginx-代理发布端口" class="headerlink" title="使用 nginx 代理发布端口"></a><strong>使用 nginx 代理发布端口</strong></h3><p><strong>非 web 端口 nginx stream 发布</strong> ·</p>
<p>NaN.  修改 nignx 配置文件，设置 stream 模块</p>
<pre><code><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    stream &#123;</span><br><span class="line">        <span class="keyword">include</span> <span class="regexp">/etc/</span>nginx<span class="regexp">/stream.d/</span>*;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">​    </span><br><span class="line">​    ```</span><br><span class="line"></span><br><span class="line">NaN.  添加 stream 代理端口</span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure>
server &#123;
    listen 21116;
    proxy_pass 172.30.0.2:21116;
    proxy_connect_timeout 5s;
&#125;
</code></pre><p>​</p>
<pre><code># UDP端口代理（P2P打洞）
server &#123;
    listen 21116 udp reuseport;
    proxy_pass 172.30.0.2:21116;
    proxy_timeout 3s;
&#125;
</code></pre><p>​<br>    server {<br>        listen 21117;<br>        proxy_pass 172.30.0.2:21117;<br>    }<br>​</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="strong">**web 端口发布**</span></span><br><span class="line"></span><br><span class="line">在 / etc/nginx/sites-available 添加新域名配置文件，<span class="strong">**_vim 你的域名_**</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>server {<br>​<br>    listen 80;<br>    server_name test.blog360.sbs;</p>
<p>​<br>     location / {<br>                client_max_body_size 50m;<br>                proxy_set_header Host $host;<br>                proxy_set_header X-Real-IP $remote_addr;<br>                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;<br>                proxy_pass <a target="_blank" rel="noopener" href="http://172.30.0.2:21114/">http://172.30.0.2:21114/</a>; </p>
<pre><code>            index index.html index.htm A1-index.html;
</code></pre><p>​<br>  }<br>​<br>​<br>}</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">建立软连接</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ln -s /etc/nginx/sites-available/你的域名 /etc/nginx/sites-enabled/你的域名</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="strong">**web 端口申请免费证书（ssl 证书可选）**</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**安装 Certbot 工具**</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>sudo apt update<br>sudo apt install certbot python3-certbot-nginx<br>​</p>
<p>sudo yum install epel-release<br>sudo yum install certbot python3-certbot-nginx</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="strong">**申请 ssl 证书（nginx）**</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>sudo certbot </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">*</span>   替换 <span class="code">`your-domain.com`</span> 为你的域名</span><br><span class="line"></span><br><span class="line"><span class="section">### 总结</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 注意 stream 与 http 同级。</span><br><span class="line"></span><br><span class="line"><span class="bullet">2.</span> 发布尽量使用标准端口，若 <span class="strong">**rustdesk-web-API-server 使用非标端口注意启动容器配置**</span>  </span><br><span class="line"></span><br><span class="line"><span class="section"><span class="strong">**RustDesk 使用教程**</span></span></span><br><span class="line"><span class="section">-----------------</span></span><br><span class="line"></span><br><span class="line"><span class="section">### <span class="strong">**RustDesk 开源社区版本使用**</span></span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 打开设置</span><br><span class="line"></span><br><span class="line">   ![](<span class="link">https://halo.blog360.sbs/upload/image-20250711215759378-fEWe.png</span>)</span><br><span class="line"></span><br><span class="line"><span class="bullet">2.</span> 配置网络</span><br><span class="line"></span><br><span class="line">   ![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711215832375.png</span>)</span><br><span class="line"></span><br><span class="line"><span class="bullet">3.</span> 配置对应的 id，中继服务器和 key</span><br><span class="line"></span><br><span class="line">   ![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711215914409.png</span>)</span><br><span class="line"></span><br><span class="line">   <span class="strong">**key 的配置在**</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">   1.</span> <span class="strong">**服务器 docker logs -f 容器 id 日志中查看**</span></span><br><span class="line"></span><br><span class="line">   2 <span class="strong">**在服务器安装，目录查看一个为 id<span class="emphasis">_ed------.pub 文件**</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">   ![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711220247948.png</span>)</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">   完成配置后，回到主页，显示**就绪**即可正常使用</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">   ![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711220337412.png</span>)</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">### **pro 版本或者 rustdesk-web-API-server 版本**</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">#### **swagger 使用**</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">在配置启用 swagger 后，打开</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">1.  后台文档 `/admin/swagger/index.html`</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">2.  PC 端文档 `/swagger/index.html`</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">即可进入对应 swagger 文档</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711220751098.png</span>)</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">#### **用户初始化**</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">未开放注册，若用户初始用户过多，可以通过调用 api 方式添加用户，这里提供一个 **Java 同步启用微信用户**的方法</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br></pre></td></tr></table></figure>
<p>import cn.hutool.http.HttpRequest;<br>import cn.hutool.http.HttpResponse;<br>import cn.hutool.json.JSONArray;<br>import cn.hutool.json.JSONObject;<br>import cn.hutool.json.JSONUtil;<br>​<br>import java.util.HashMap;<br>import java.util.Map;<br>​<br>public class WeComUserSync {<br>​</p>
<pre><code>public static final String QY_HOST = &quot;企业微信url路径&quot;;
public static final String QY_CORP_ID = &quot;企业id&quot;;
public static final String QY_CORP_SECRET = &quot;企业微信密钥&quot;;
</code></pre><p>​<br>    public static final String RUST_DESK_HOST = “<a target="_blank" rel="noopener" href="http://192.168.73.129:21114/api">http://192.168.73.129:21114/api</a>“;<br>    public static final String RUST_DESK_TOKEN = “430b712ba7ef99da742c9c15bc5ae4c0”;<br>​<br>​<br>    public static void syncUsers() {<br>        String weComAccessToken = getWeComAccessToken();</p>
<pre><code>    JSONArray wecomUsers = getWeComUsers(weComAccessToken);
</code></pre><p>​</p>
<pre><code>    for (Object user : wecomUsers) &#123;
        JSONObject wecomUser = (JSONObject) user;
        JSONObject targetUser = convertToTargetFormat(wecomUser);
        createUser(targetUser);
    &#125;
&#125;
</code></pre><p>​<br>    public static String getWeComAccessToken() {</p>
<pre><code>    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();
    params.put(&quot;corpid&quot;, QY_CORP_ID);
    params.put(&quot;corpsecret&quot;, QY_CORP_SECRET);
</code></pre><p>​</p>
<pre><code>    HttpResponse response = HttpRequest.get(QY_HOST +&quot;/cgi-bin/gettoken&quot;)
            .form(params)
            .execute();
</code></pre><p>​</p>
<pre><code>    JSONObject result = JSONUtil.parseObj(response.body());
</code></pre><p>​</p>
<pre><code>    if (result.getInt(&quot;errcode&quot;) != 0) &#123;
        throw new RuntimeException(&quot;获取access_token失败: &quot; + result.getStr(&quot;errmsg&quot;));
    &#125;
</code></pre><p>​<br>        return result.getStr(“access_token”);<br>    }<br>​<br>​<br>    public static JSONArray getWeComUsers(String weComAccessToken) {<br>​<br>        String departmentId = “1”;<br>        String fetchChild = “1”;<br>​</p>
<pre><code>    String url = String.format(QY_HOST +&quot;/cgi-bin/user/list?access_token=%s&amp;department_id=%s&amp;fetch_child=%s&quot;,
            weComAccessToken, departmentId, fetchChild);
</code></pre><p>​<br>​</p>
<pre><code>    HttpResponse response = HttpRequest.get(url).execute();
    String body = response.body();
    JSONObject result = JSONUtil.parseObj(body);
</code></pre><p>​</p>
<pre><code>    if (result.getInt(&quot;errcode&quot;) != 0) &#123;
        throw new RuntimeException(&quot;企业微信API调用失败: &quot; + result.getStr(&quot;errmsg&quot;));
    &#125;
</code></pre><p>​<br>        return result.getJSONArray(“userlist”);<br>    }<br>​<br>    public static JSONObject convertToTargetFormat(JSONObject wecomUser) {</p>
<pre><code>    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
    map.put(&quot;group_id&quot;, 2);                             
    map.put(&quot;is_admin&quot;, false);             
    map.put(&quot;nickname&quot;, wecomUser.getStr(&quot;name&quot;));       
    map.put(&quot;status&quot;, 1); 
    map.put(&quot;username&quot;, wecomUser.getStr(&quot;userid&quot;));     
</code></pre><p>​<br>        return JSONUtil.parseObj(map);<br>    }<br>​<br>​<br>    public static void createUser(JSONObject userData) {<br>​<br>​<br>        HttpResponse response = HttpRequest.post(RUST_DESK_HOST +”/admin/user/create”)<br>                .body(userData.toString())<br>                .header(“api-token”, RUST_DESK_TOKEN)<br>                .contentType(“application/json”)<br>                .execute();<br>​</p>
<pre><code>    if (response.getStatus() != 200) &#123;
        System.out.println(&quot;用户创建失败: HTTP &quot; + response.getStatus());
    &#125;
</code></pre><p>​<br>        JSONObject result = JSONUtil.parseObj(response.body());<br>        System.out.println(“添加响应结果：”+result);<br>    }<br>​<br>​<br>    public static void updateAllUsersPassword() {<br>        int page = 1;<br>        int pageSize = 100;<br>        int totalPages = 1;<br>​<br>        while (page &lt;= totalPages) {</p>
<pre><code>        JSONObject userListResponse = getUserList(page, pageSize);
</code></pre><p>​</p>
<pre><code>        if (userListResponse == null || userListResponse.getInt(&quot;code&quot;) != 0) &#123;
            System.err.println(&quot;获取用户列表失败，页码: &quot; + page);
            page++;
            continue;
        &#125;
</code></pre><p>​<br>            JSONObject data = userListResponse.getJSONObject(“data”);<br>            JSONArray users = data.getJSONArray(“list”);<br>​</p>
<pre><code>        totalPages = (int) Math.ceil((double) data.getInt(&quot;total&quot;) / pageSize);
</code></pre><p>​</p>
<pre><code>        for (Object userObj : users) &#123;
            JSONObject user = (JSONObject) userObj;
            updateUserPassword(user);
        &#125;
</code></pre><p>​<br>            page++;<br>        }<br>    }<br>​<br>    public  static JSONObject getUserList(int page, int pageSize) {<br>        String url = RUST_DESK_HOST + “/admin/user/list”;<br>​<br>        try {<br>            HttpResponse response = HttpRequest.get(url)<br>                    .header(“api-token”, RUST_DESK_TOKEN)<br>                    .form(“page”, page)<br>                    .form(“page_size”, pageSize)<br>                    .execute();<br>​<br>            String body = response.body();<br>​<br>            return JSONUtil.parseObj(body);<br>        } catch (Exception e) {<br>            System.err.println(“获取用户列表异常: “ + e.getMessage());<br>            return null;<br>        }<br>    }<br>​<br>    public static void updateUserPassword(JSONObject user) {<br>        int userId = user.getInt(“id”);<br>        String username = user.getStr(“username”);<br>        String newPassword = username + “!@#123”;<br>​<br>        String url = RUST_DESK_HOST + “/admin/user/changePwd”;<br>​<br>        try {<br>            if (userId &gt;1) {<br>                JSONObject requestBody = new JSONObject();<br>                requestBody.set(“id”, userId);<br>                requestBody.set(“password”, newPassword);<br>​<br>                HttpResponse response = HttpRequest.post(url)<br>                        .body(requestBody.toString())<br>                        .header(“api-token”, RUST_DESK_TOKEN)<br>                        .contentType(“application/json”)<br>                        .execute();<br>​<br>                JSONObject result = JSONUtil.parseObj(response.body());<br>​<br>                if (result.getInt(“code”) == 0) {<br>                    System.out.println(“用户密码更新成功: “ + username);<br>                } else {<br>                    System.err.println(“用户密码更新失败: “ + username +<br>                            “ | 错误信息: “ + result.getStr(“message”));<br>                }<br>            }<br>        } catch (Exception e) {<br>            System.err.println(“更新密码异常: “ + username + “ | “ + e.getMessage());<br>        }<br>    }<br>​<br>    public static void main(String[] args) {</p>
<pre><code>    updateAllUsersPassword(); 
&#125;
</code></pre><p>}</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="section">#### <span class="strong">**Oauth2 接入（GitHub）演示**</span></span></span><br><span class="line"></span><br><span class="line">添加对应 Oauth2 配置</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711221332982.png</span>)</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span>   对于<span class="code">`Google`</span> 和 <span class="code">`Github`</span>, <span class="code">`Issuer`</span> 和 <span class="code">`Scopes`</span>不需要填写.</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span>   对于<span class="code">`OIDC`</span>, <span class="code">`Issuer`</span>是必须的。<span class="code">`Scopes`</span>是可选的，默认为 <span class="code">`openid,profile,email`</span>. 确保可以获取 <span class="code">`sub`</span>,<span class="code">`email`</span> 和<span class="code">`preferred_username`</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span>   <span class="code">`github oauth app`</span>在<span class="code">`Settings`</span>-&gt;<span class="code">`Developer settings`</span>-&gt;<span class="code">`OAuth Apps`</span>-&gt;<span class="code">`New OAuth App`</span> 中创建, 地址 [<span class="string">https://github.com/settings/developers</span>](<span class="link">https://github.com/settings/developers</span>) <span class="code">`callback URL 填写`</span>&#123;uri&#125;/api/oauth/callback</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span>   <span class="code">`Authorization callback URL`</span>填写<span class="code">`http:///api/oidc/callback`</span> ，比如<span class="code">`http://127.0.0.1:21114/api/oidc/callback`</span></span><br><span class="line"></span><br><span class="line">前往 GitHub oauth app 配置 [<span class="string">https://github.com/settings/developers</span>](<span class="link">https://github.com/settings/developers</span>)</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711221939594.png</span>)</span><br><span class="line"></span><br><span class="line"><span class="strong">**rustdesk 页面配置**</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-Oxeb.png</span>)**</span></span><br><span class="line"></span><br><span class="line">这样是存在 bug</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://qt.qiongzhou.eu.org/webp/image-20250711222302517.png</span>) 我们直接调用 api 添加该字段也不行，这个 bug 应该是由于使用 sqlite 会出现，mysql 正常</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>curl —location —request POST ‘<a target="_blank" rel="noopener" href="http://192.168.73.129:21114/api/admin/oauth/create">http://192.168.73.129:21114/api/admin/oauth/create</a>‘ \<br>—header ‘api-token: 60aca81100daccf883c66f32b45d7b72’ \<br>—header ‘Content-Type: application/json’ \<br>—data ‘{<br>    “id”: 0,<br>    “op”: “”,<br>    “oauth_type”: “github”,<br>    “issuer”: “”,<br>    “client_id”: “2221”,<br>    “client_secret”: “1123”,<br>    “redirect_url”: “”,<br>    “scopes”: “”,<br>    “auto_register”: true,<br>    “pkce_enable”: false,<br>    “pkce_method”: “S256”<br>}’</p>
<p>```</p>
<p><strong>完成后页面展示</strong></p>
<p><img src="https://qt.qiongzhou.eu.org/webp/image-20250711222337824.png" alt=""><img src="https://qt.qiongzhou.eu.org/webp/image-20250711222412083.png" alt=""></p>
<h4 id="第三方接入与-OIDC-接入"><a href="#第三方接入与-OIDC-接入" class="headerlink" title="第三方接入与 OIDC 接入"></a><strong>第三方接入与 OIDC 接入</strong></h4><p>根据 up 主的查阅 OIDC 算比较前沿的，国内支持厂商并不多，好像企业微信在 23 年已经内测了，如果内部业务系统支持可以对接，或者查询所使用的系统看有没有对接的可能，或者直接简单开发对接 api 实现自定义 Oauth2 登录</p>
<h4 id="其他权限管理"><a href="#其他权限管理" class="headerlink" title="其他权限管理"></a>其他权限管理</h4><p>这里的话各位小伙伴可以自行探索，根据自己的需求来使用地址簿、标签、分组等等</p>
</div><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a class="article-share-link" data-url="http://bnjy.eu.org/posts/89b64fc8.html" data-id="cmher1anu0003k6236snt73z4" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABz0lEQVR42u3aQW7EIAwF0Ln/pafbSi3pt4mZVHqsqiiFl1kg883rFY/3j/H9+erN1ZPV/942cHFxt7nvy3GNuF4+mTM34OLinueudoxk6nye/OOXz3FxcR/MvS5friuT6zlxcXH/OzdnXZdEuLi4z+RWDyrJkjlx5KyGi4u7wc1Tyrm/R/JdXFzcFvddHEnJkgQozdVxcXGPcPMNJSk78gJlJ0zBxcWd5laPK/nznWqrsIXh4uIOc3tXqZINq1fQLCsyXFzcg9zeMsmn9o5Vv8yPi4v7Ue5dgWnSSsmjE1xc3DPcvEzZ2fJ6Ddfo+gUuLu4At1pkVD+sWgz98Q4uLu5BbjUYzS9R9Vov0eEHFxd3jFvoxAatjmSzqx6ZosYMLi7uGHd/4aTcqV7WXL6Ji4s7zM0bJNWPuStgXYYjuLi4R7g7jZPq0Si/7omLi/spblKIVMud8qkrD0FwcXHHuOVLk60j012lEi4u7hluPqoXLqsbX+/yBy4u7hx3v83Zi0eTBu3WL4eLi7vN3Qk6842sF7AuYxFcXNxHcqtL5tHqyEaGi4s7zL0LXQ1ecXFxT3J7kUfvOni1PMLFxT3PzQPTaiCSxyj5j4KLizvM/QKzwJp5ZijOswAAAABJRU5ErkJggg==">分享</a><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RustDesk/" rel="tag">RustDesk</a></li></ul></div><div class="post-nav"><a class="pre" href="/posts/e2427986.html">超赞的 Linux 软件</a><a class="next" href="/posts/72977dc0.html">HumanSystemOptimization-main</a></div><div class="nofancybox" id="vcomment"></div><script src="https://unpkg.com/valine/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'6YJscbvqXJK7VrKYNhElZKr7-MdYXbMMI',
  appKey:'zLLLAr1WaeicJQyhF896Mmcu',
  serverURLs:'',
  placeholder:'Just so so',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.png"/></a><p>To be a better man.</p><a class="info-icon" href="https://twitter.com/" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="bjhwjy@126.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%99%E7%A8%8B%E5%AD%A6%E4%B9%A0/">教程学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E4%BA%8B/">生活记事</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BB%8F%E5%85%B8%E5%A5%BD%E6%96%87/">经典好文</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/RustDesk/" style="font-size: 15px;">RustDesk</a> <a href="/tags/Github/" style="font-size: 15px;">Github</a> <a href="/tags/%E7%BB%8F%E5%85%B8%E5%A5%BD%E6%96%87/" style="font-size: 15px;">经典好文</a> <a href="/tags/%E9%82%AE%E4%BB%B6/" style="font-size: 15px;">邮件</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/89d7ccdc.html">Pake Plus</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e2427986.html">超赞的 Linux 软件</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/89b64fc8.html">RustDesk 开源远程桌面软件系统，自建服务器部署 (审计)、发布和使用教程</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/72977dc0.html">HumanSystemOptimization-main</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ab519416.html">比免费更好</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/f589171e.html">使用 Railway 和 Supabase 零成本搭建 n8n 自动化平台</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/97e9ea5a.html">国内开源镜像站点汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/8.html">效率工作：高效开会</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/c9ff3035.html">当一位清华本硕博放弃 “北京中产”，去往非洲</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/1f87a3cf.html">我们这一代人的困惑</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2025 <a href="/." rel="nofollow">捌月.</a> Powered by<a rel="nofollow" target="_blank" href="https://bnjy.eu.org/"> Hexo.</a><a rel="nofollow" target="_blank" href="https://bnjy.eu.org/"> Theme</a> by<a rel="nofollow" target="_blank" href="https://bnjy.eu.org/"> Jam.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/external.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>